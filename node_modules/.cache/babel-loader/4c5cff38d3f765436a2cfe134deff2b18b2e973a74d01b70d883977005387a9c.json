{"ast":null,"code":"var _jsxFileName = \"/Users/akarshjana/Documents/My_Projects/mixtape-ai-react/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport MixtapeGenerator from './components/MixtapeGenerator';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { FastAverageColor } from 'fast-average-color';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst moodColors = {\n  Energetic: '#ffb347',\n  Chill: '#6dd5ed',\n  Sad: '#b993d6',\n  Happy: '#f7971e',\n  Dark: '#232526',\n  Pop: '#ff6a88',\n  Rock: '#232526',\n  Jazz: '#43cea2',\n  Classical: '#f8ffae',\n  Default: '#764ba2'\n};\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n    min-height: 100vh;\n    color: #333;\n    background: ${({\n  bgGradient\n}) => bgGradient || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'};\n    transition: background 1.2s cubic-bezier(0.22, 1, 0.36, 1);\n    position: relative;\n    overflow-x: hidden;\n  }\n\n  body::before {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ${({\n  bgGradient\n}) => bgGradient || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'};\n    z-index: -1;\n    animation: ${({\n  isPlaying\n}) => isPlaying ? 'pulse 0.4s ease-in-out infinite' : 'none'};\n    transform: scale(${({\n  isPlaying\n}) => isPlaying ? 1.1 : 1});\n    filter: blur(${({\n  isPlaying\n}) => isPlaying ? 3 : 0}px);\n  }\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1) rotate(0deg);\n    }\n    25% {\n      transform: scale(1.15) rotate(5deg);\n    }\n    50% {\n      transform: scale(1.25) rotate(0deg);\n    }\n    75% {\n      transform: scale(1.15) rotate(-5deg);\n    }\n  }\n\n  @keyframes wave {\n    0% {\n      transform: translateX(-100px) rotate(0deg) scale(0.5);\n      opacity: 0;\n    }\n    20% {\n      opacity: 1;\n    }\n    80% {\n      opacity: 1;\n    }\n    100% {\n      transform: translateX(calc(100vw + 100px)) rotate(720deg) scale(2);\n      opacity: 0;\n    }\n  }\n\n  body::after {\n    content: '';\n    position: fixed;\n    top: 30%;\n    left: -100px;\n    width: 200px;\n    height: 200px;\n    background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 50%, transparent 70%);\n    border-radius: 50%;\n    z-index: -1;\n    animation: ${({\n  isPlaying\n}) => isPlaying ? 'wave 4s linear infinite' : 'none'};\n    animation-delay: ${({\n  isPlaying\n}) => isPlaying ? 0.5 : 0}s;\n  }\n\n  /* Add a second dancing element using a pseudo-element on html */\n  html::before {\n    content: '';\n    position: fixed;\n    bottom: 20%;\n    right: -80px;\n    width: 150px;\n    height: 150px;\n    background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, transparent 60%);\n    border-radius: 50%;\n    z-index: -1;\n    animation: ${({\n  isPlaying\n}) => isPlaying ? 'wave 6s linear infinite reverse' : 'none'};\n    animation-delay: ${({\n  isPlaying\n}) => isPlaying ? 2 : 0}s;\n  }\n\n  button {\n    cursor: pointer;\n    border: none;\n    outline: none;\n  }\n\n  input {\n    outline: none;\n  }\n`;\n_c = GlobalStyle;\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\n_c2 = AppContainer;\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  return user ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 28\n  }, this);\n};\n_s(ProtectedRoute, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c3 = ProtectedRoute;\nfunction AppRoutes({\n  currentSong,\n  currentSongIndex,\n  setCurrentSongIndex,\n  mixtapeQueue,\n  setMixtapeQueue,\n  analysis,\n  setAnalysis,\n  setIsPlaying\n}) {\n  _s2();\n  const {\n    user\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(AppContainer, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(MixtapeGenerator, {\n            currentSong: currentSong,\n            currentSongIndex: currentSongIndex,\n            setCurrentSongIndex: setCurrentSongIndex,\n            mixtapeQueue: mixtapeQueue,\n            setMixtapeQueue: setMixtapeQueue,\n            analysis: analysis,\n            setAnalysis: setAnalysis,\n            setIsPlaying: setIsPlaying\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n\n// Animated dancing spot\n_s2(AppRoutes, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c4 = AppRoutes;\nconst DancingSpot = styled.div`\n  position: fixed;\n  pointer-events: none;\n  z-index: 0;\n  border-radius: 50%;\n  background: radial-gradient(circle, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.2) 70%, transparent 100%);\n  opacity: ${({\n  isPlaying\n}) => isPlaying ? 1 : 0};\n  transition: opacity 0.5s;\n  animation: pulseSpot ${({\n  duration\n}) => duration}s ease-in-out infinite;\n  animation-delay: ${({\n  delay\n}) => delay}s;\n  width: ${({\n  size\n}) => size}px;\n  height: ${({\n  size\n}) => size}px;\n  top: ${({\n  top\n}) => top}%;\n  left: ${({\n  left\n}) => left}%;\n  filter: blur(2px);\n\n  @keyframes pulseSpot {\n    0%, 100% { transform: scale(0.7); opacity: 0.7; }\n    50% { transform: scale(1.3); opacity: 1; }\n  }\n`;\n_c5 = DancingSpot;\nfunction getRandomSpots(count) {\n  // Returns an array of spot configs: {top, left, size, duration, delay}\n  return Array.from({\n    length: count\n  }).map(() => ({\n    top: Math.random() * 80 + 5,\n    // 5% to 85%\n    left: Math.random() * 80 + 5,\n    // 5% to 85%\n    size: Math.random() * 80 + 60,\n    // 60px to 140px\n    duration: Math.random() * 2 + 1.5,\n    // 1.5s to 3.5s\n    delay: Math.random() * 2 // 0s to 2s\n  }));\n}\nfunction App() {\n  _s3();\n  const [mixtapeQueue, setMixtapeQueue] = useState([]);\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\n  const [analysis, setAnalysis] = useState(null);\n  const [bgGradient, setBgGradient] = useState('linear-gradient(135deg, #667eea 0%, #764ba2 100%)');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const facRef = useRef(new FastAverageColor());\n  const [spots] = useState(() => getRandomSpots(6));\n  const currentSong = mixtapeQueue[currentSongIndex];\n\n  // Log when isPlaying changes\n  useEffect(() => {\n    console.log('ðŸŽµ App: isPlaying changed to:', isPlaying);\n  }, [isPlaying]);\n\n  // Make the background always dance when a song is selected\n  useEffect(() => {\n    if (currentSong) {\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(false);\n    }\n  }, [currentSong]);\n  useEffect(() => {\n    async function updateBg() {\n      let dominant = [102, 126, 234]; // default\n      if (currentSong && currentSong.album_art_url) {\n        try {\n          const img = new window.Image();\n          img.crossOrigin = 'Anonymous';\n          img.src = currentSong.album_art_url;\n          await new Promise((resolve, reject) => {\n            img.onload = resolve;\n            img.onerror = reject;\n          });\n          const color = facRef.current.getColor(img).value;\n          dominant = color;\n        } catch (e) {\n          // fallback to default\n        }\n      }\n      // Use AI mood/genre for secondary color\n      let mood = (analysis === null || analysis === void 0 ? void 0 : analysis.mood) || (analysis === null || analysis === void 0 ? void 0 : analysis.genre) || 'Default';\n      let moodColor = moodColors[mood] || moodColors.Default;\n      setBgGradient(`linear-gradient(135deg, rgb(${dominant.join(',')}), ${moodColor} 100%)`);\n    }\n    updateBg();\n    // eslint-disable-next-line\n  }, [currentSong, analysis]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      // Cleanup any resources if needed\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {\n      bgGradient: bgGradient,\n      isPlaying: isPlaying\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), spots.map((spot, i) => /*#__PURE__*/_jsxDEV(DancingSpot, {\n      isPlaying: isPlaying,\n      top: spot.top,\n      left: spot.left,\n      size: spot.size,\n      duration: spot.duration,\n      delay: spot.delay\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(AppRoutes, {\n        currentSong: currentSong,\n        currentSongIndex: currentSongIndex,\n        setCurrentSongIndex: setCurrentSongIndex,\n        mixtapeQueue: mixtapeQueue,\n        setMixtapeQueue: setMixtapeQueue,\n        analysis: analysis,\n        setAnalysis: setAnalysis,\n        setIsPlaying: setIsPlaying\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), \"Debug info - remove this later\", /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '10px',\n        borderRadius: '5px',\n        fontSize: '12px',\n        zIndex: 9999\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"8b4U57k/ELc6oMk3w+Nkt9yixh4=\");\n_c6 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"GlobalStyle\");\n$RefreshReg$(_c2, \"AppContainer\");\n$RefreshReg$(_c3, \"ProtectedRoute\");\n$RefreshReg$(_c4, \"AppRoutes\");\n$RefreshReg$(_c5, \"DancingSpot\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Routes","Route","Navigate","styled","createGlobalStyle","MixtapeGenerator","Login","Signup","AuthProvider","useAuth","FastAverageColor","jsxDEV","_jsxDEV","moodColors","Energetic","Chill","Sad","Happy","Dark","Pop","Rock","Jazz","Classical","Default","GlobalStyle","bgGradient","isPlaying","_c","AppContainer","div","_c2","ProtectedRoute","children","_s","user","to","fileName","_jsxFileName","lineNumber","columnNumber","_c3","AppRoutes","currentSong","currentSongIndex","setCurrentSongIndex","mixtapeQueue","setMixtapeQueue","analysis","setAnalysis","setIsPlaying","_s2","path","element","_c4","DancingSpot","duration","delay","size","top","left","_c5","getRandomSpots","count","Array","from","length","map","Math","random","App","_s3","setBgGradient","facRef","spots","console","log","updateBg","dominant","album_art_url","img","window","Image","crossOrigin","src","Promise","resolve","reject","onload","onerror","color","current","getColor","value","e","mood","genre","moodColor","join","spot","i","style","position","right","background","padding","borderRadius","fontSize","zIndex","_c6","$RefreshReg$"],"sources":["/Users/akarshjana/Documents/My_Projects/mixtape-ai-react/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport MixtapeGenerator from './components/MixtapeGenerator';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { FastAverageColor } from 'fast-average-color';\n\nconst moodColors = {\n  Energetic: '#ffb347',\n  Chill: '#6dd5ed',\n  Sad: '#b993d6',\n  Happy: '#f7971e',\n  Dark: '#232526',\n  Pop: '#ff6a88',\n  Rock: '#232526',\n  Jazz: '#43cea2',\n  Classical: '#f8ffae',\n  Default: '#764ba2',\n};\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n    min-height: 100vh;\n    color: #333;\n    background: ${({ bgGradient }) => bgGradient || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'};\n    transition: background 1.2s cubic-bezier(0.22, 1, 0.36, 1);\n    position: relative;\n    overflow-x: hidden;\n  }\n\n  body::before {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ${({ bgGradient }) => bgGradient || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'};\n    z-index: -1;\n    animation: ${({ isPlaying }) => isPlaying ? 'pulse 0.4s ease-in-out infinite' : 'none'};\n    transform: scale(${({ isPlaying }) => isPlaying ? 1.1 : 1});\n    filter: blur(${({ isPlaying }) => isPlaying ? 3 : 0}px);\n  }\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1) rotate(0deg);\n    }\n    25% {\n      transform: scale(1.15) rotate(5deg);\n    }\n    50% {\n      transform: scale(1.25) rotate(0deg);\n    }\n    75% {\n      transform: scale(1.15) rotate(-5deg);\n    }\n  }\n\n  @keyframes wave {\n    0% {\n      transform: translateX(-100px) rotate(0deg) scale(0.5);\n      opacity: 0;\n    }\n    20% {\n      opacity: 1;\n    }\n    80% {\n      opacity: 1;\n    }\n    100% {\n      transform: translateX(calc(100vw + 100px)) rotate(720deg) scale(2);\n      opacity: 0;\n    }\n  }\n\n  body::after {\n    content: '';\n    position: fixed;\n    top: 30%;\n    left: -100px;\n    width: 200px;\n    height: 200px;\n    background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 50%, transparent 70%);\n    border-radius: 50%;\n    z-index: -1;\n    animation: ${({ isPlaying }) => isPlaying ? 'wave 4s linear infinite' : 'none'};\n    animation-delay: ${({ isPlaying }) => isPlaying ? 0.5 : 0}s;\n  }\n\n  /* Add a second dancing element using a pseudo-element on html */\n  html::before {\n    content: '';\n    position: fixed;\n    bottom: 20%;\n    right: -80px;\n    width: 150px;\n    height: 150px;\n    background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, transparent 60%);\n    border-radius: 50%;\n    z-index: -1;\n    animation: ${({ isPlaying }) => isPlaying ? 'wave 6s linear infinite reverse' : 'none'};\n    animation-delay: ${({ isPlaying }) => isPlaying ? 2 : 0}s;\n  }\n\n  button {\n    cursor: pointer;\n    border: none;\n    outline: none;\n  }\n\n  input {\n    outline: none;\n  }\n`;\n\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ProtectedRoute = ({ children }) => {\n  const { user } = useAuth();\n  return user ? children : <Navigate to=\"/login\" />;\n};\n\nfunction AppRoutes({\n  currentSong,\n  currentSongIndex,\n  setCurrentSongIndex,\n  mixtapeQueue,\n  setMixtapeQueue,\n  analysis,\n  setAnalysis,\n  setIsPlaying\n}) {\n  const { user } = useAuth();\n\n  return (\n    <AppContainer>\n      <Routes>\n        <Route \n          path=\"/\" \n          element={\n            <ProtectedRoute>\n              <MixtapeGenerator\n                currentSong={currentSong}\n                currentSongIndex={currentSongIndex}\n                setCurrentSongIndex={setCurrentSongIndex}\n                mixtapeQueue={mixtapeQueue}\n                setMixtapeQueue={setMixtapeQueue}\n                analysis={analysis}\n                setAnalysis={setAnalysis}\n                setIsPlaying={setIsPlaying}\n              />\n            </ProtectedRoute>\n          } \n        />\n        <Route \n          path=\"/login\" \n          element={user ? <Navigate to=\"/\" /> : <Login />} \n        />\n        <Route \n          path=\"/signup\" \n          element={user ? <Navigate to=\"/\" /> : <Signup />} \n        />\n      </Routes>\n    </AppContainer>\n  );\n}\n\n// Animated dancing spot\nconst DancingSpot = styled.div`\n  position: fixed;\n  pointer-events: none;\n  z-index: 0;\n  border-radius: 50%;\n  background: radial-gradient(circle, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.2) 70%, transparent 100%);\n  opacity: ${({ isPlaying }) => isPlaying ? 1 : 0};\n  transition: opacity 0.5s;\n  animation: pulseSpot ${({ duration }) => duration}s ease-in-out infinite;\n  animation-delay: ${({ delay }) => delay}s;\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  top: ${({ top }) => top}%;\n  left: ${({ left }) => left}%;\n  filter: blur(2px);\n\n  @keyframes pulseSpot {\n    0%, 100% { transform: scale(0.7); opacity: 0.7; }\n    50% { transform: scale(1.3); opacity: 1; }\n  }\n`;\n\nfunction getRandomSpots(count) {\n  // Returns an array of spot configs: {top, left, size, duration, delay}\n  return Array.from({ length: count }).map(() => ({\n    top: Math.random() * 80 + 5, // 5% to 85%\n    left: Math.random() * 80 + 5, // 5% to 85%\n    size: Math.random() * 80 + 60, // 60px to 140px\n    duration: Math.random() * 2 + 1.5, // 1.5s to 3.5s\n    delay: Math.random() * 2, // 0s to 2s\n  }));\n}\n\nfunction App() {\n  const [mixtapeQueue, setMixtapeQueue] = useState([]);\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\n  const [analysis, setAnalysis] = useState(null);\n  const [bgGradient, setBgGradient] = useState('linear-gradient(135deg, #667eea 0%, #764ba2 100%)');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const facRef = useRef(new FastAverageColor());\n  const [spots] = useState(() => getRandomSpots(6));\n\n  const currentSong = mixtapeQueue[currentSongIndex];\n\n  // Log when isPlaying changes\n  useEffect(() => {\n    console.log('ðŸŽµ App: isPlaying changed to:', isPlaying);\n  }, [isPlaying]);\n\n  // Make the background always dance when a song is selected\n  useEffect(() => {\n    if (currentSong) {\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(false);\n    }\n  }, [currentSong]);\n\n  useEffect(() => {\n    async function updateBg() {\n      let dominant = [102, 126, 234]; // default\n      if (currentSong && currentSong.album_art_url) {\n        try {\n          const img = new window.Image();\n          img.crossOrigin = 'Anonymous';\n          img.src = currentSong.album_art_url;\n          await new Promise((resolve, reject) => {\n            img.onload = resolve;\n            img.onerror = reject;\n          });\n          const color = facRef.current.getColor(img).value;\n          dominant = color;\n        } catch (e) {\n          // fallback to default\n        }\n      }\n      // Use AI mood/genre for secondary color\n      let mood = analysis?.mood || analysis?.genre || 'Default';\n      let moodColor = moodColors[mood] || moodColors.Default;\n      \n      setBgGradient(\n        `linear-gradient(135deg, rgb(${dominant.join(',')}), ${moodColor} 100%)`\n      );\n    }\n    updateBg();\n    // eslint-disable-next-line\n  }, [currentSong, analysis]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      // Cleanup any resources if needed\n    };\n  }, []);\n\n  return (\n    <AuthProvider>\n      <GlobalStyle bgGradient={bgGradient} isPlaying={isPlaying} />\n      {/* Render animated spots */}\n      {spots.map((spot, i) => (\n        <DancingSpot\n          key={i}\n          isPlaying={isPlaying}\n          top={spot.top}\n          left={spot.left}\n          size={spot.size}\n          duration={spot.duration}\n          delay={spot.delay}\n        />\n      ))}\n      <Router>\n        <AppRoutes\n          currentSong={currentSong}\n          currentSongIndex={currentSongIndex}\n          setCurrentSongIndex={setCurrentSongIndex}\n          mixtapeQueue={mixtapeQueue}\n          setMixtapeQueue={setMixtapeQueue}\n          analysis={analysis}\n          setAnalysis={setAnalysis}\n          setIsPlaying={setIsPlaying}\n        />\n      </Router>\n      Debug info - remove this later\n      <div style={{\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '10px',\n        borderRadius: '5px',\n        fontSize: '12px',\n        zIndex: 9999\n      }}>\n        {/* Playing: {isPlaying ? 'YES' : 'NO'}\n        <br />\n        <button \n          onClick={() => setIsPlaying(!isPlaying)}\n          style={{\n            background: isPlaying ? '#e74c3c' : '#27ae60',\n            color: 'white',\n            border: 'none',\n            padding: '5px 10px',\n            borderRadius: '3px',\n            cursor: 'pointer',\n            marginTop: '5px'\n          }}\n        >\n          {isPlaying ? 'Stop Dancing' : 'Start Dancing'}\n        </button> */}\n      </div>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}